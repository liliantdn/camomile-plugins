#N canvas 830 355 422 505 10;
#X obj 54 40 inlet;
#X obj 253 35 inlet;
#X obj 183 83 float \$1;
#X obj 54 338 line~;
#X obj 54 395 outlet~;
#X obj 183 35 loadbang;
#X msg 88 300 stop;
#X obj 305 35 inlet;
#X obj 265 83 float \$2;
#X obj 54 215 list prepend;
#X obj 54 135 >;
#X obj 54 82 t f f b f;
#X text 130 83 attack;
#X text 325 83 decay;
#X obj 54 169 expr if($f1 == 1 \, \\$f2 \, \\$f3);
#X floatatom 188 144 5 0 0 0 - - - 0 0 1, f 5;
#X floatatom 273 144 5 0 0 0 - - - 0 0 1, f 5;
#X obj 54 255 list trim;
#X text 166 191 if current value is higher than previous \, use attack
time else use decay time, f 26;
#X obj 183 114 max 0;
#X obj 265 114 max 0;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 19 0;
#X connect 3 0 4 0;
#X connect 5 0 2 0;
#X connect 5 0 8 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 20 0;
#X connect 9 0 17 0;
#X connect 10 0 14 0;
#X connect 11 0 10 1;
#X connect 11 1 10 0;
#X connect 11 2 6 0;
#X connect 11 3 9 1;
#X connect 14 0 9 0;
#X connect 17 0 3 0;
#X connect 19 0 14 1;
#X connect 19 0 15 0;
#X connect 20 0 14 2;
#X connect 20 0 16 0;
